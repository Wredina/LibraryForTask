# Списки - Array, List

Изменяемый тип данных

- Функция list и квадратные скобки [ ] - Создание списков

- List Comprehension - Создание списка через цикл for или for + if-else (list_1 = [exp for item in iterable])

  - exp - значение, которое вкладывается

  - iterable - кол-во итераций

- [ ] - Доступ к элементу по индексу

- Метод append() - Добавление одного элемента в конец

- Метод extend() - Добавление нескольких элементов в конец

- Метод pop(indx) - Удаление элемента по индексу, по умолчанию - последнего, и возвращение его

- del lst[indx] - удаление элемента по индексу

- clear() - удаление всех элементов списка

- Метод count() - Подсчёт вхождения элемента

- Метод index() - Индекс первого вхождения элемента

  - index(el, start, stop) - Индекс первого вхождения элемента в заданном диапозоне

- Метод insert(indx, el) - Вставка элемента по индексу

- Метод remove() - Удаление элемента по значению

- \* - распаковка списка. Выведет список без скобочек и запятых

- max(arr) - нахождения максимального элемента списка

  - max(arr, key=el) - нахождение максимального элемента по параметру key

- min(arr) - нахождение минимального элемента списка

  - min(arr, key=el) - нахождение минимального элемента по параметру key

- sum(arr) - сумма элементов списка

- zip() - параллельная обработка списков при помощи List Comprehension

**Сортировка и развороты**

Сортируются в списке только элементы одного типа. Иначе TypeError

- Функция sorted() - принимает на вход список и возвращает **новый** список с отсортированными данными. может принимать не только списки, но и другие последовательности: строки, множества, кортежи, словари и т.п.. При этом
функция всегда возвращает список

  - sorted(arr, reverse = True/False) - False - по умолчанию, без сортировки. True - осуществляется сортировка.

- Метод sort() - сортировка на месте inplace, без создания копии

- Функция reversed() - принимает на вход список и возвращается объект итератор с обратным порядком элементов. не рекомендуется использовать данную функцию

  - list(reversed()) - принимает на вход список и возвращает **новый** список в обратном порядке. Используют с циклом for in, что бы перебрать эл-ты с права на лево

  - синтаксический сахар [::-1] - возвращает **новый** список в обратном порядке. Аналогично list(reversed())

- метод reverse() - разворачивает список inplace, т.е. на месте без создания копии

**Создание копий и срезы**

- list_name[start:stop:step] - частичная копия списка.

  - start - первый индекс который включается в срез. При отсутствия значения, равен 0

  - stop - последний индекс который **не** включается в срез. При отсутствии значения равен последнему элементу в списке

  - step - шаг от start до stop. По умолчанию равен 1

- метод copy() - создаёт поверхостную **новую** копию списка, работает без учёта вложенностей.

- функция copy.deepcopy() - import copy, рекурсивно создаёт **новую** глубокую копию. Можно вкладывать любые структуры с любым уровнем вложенности

**Длина списка**

- Функция len(x) — возвращает целое число — количество элементов коллекции. Не учитывает вложенные коллекции

## Примеры

- Создание списка

```py
list_1 = list()
list_2 = list((3.14, True, 'Hello world!')) # распаковка кортежа
list_3 = []
list_4 = [3.14, True, 'Hello world!']
```

- доступы к элементам

```py
my_list = [2,4,6,8,10,12] # от 0 до 5-ти

print(my_list[0]) # 2
print(my_list[6]) # IndexError

print(my_list[-1]) # 12
print(my_list[-10]) # IndexError
```

- append()

```py
a = 42
b = 'text'
c = [1, 2, 3, 4]
my_list = [None]

my_list.append(a)
print(my_list) # [None, 42]

my_list.append(b)
print(my_list) # [None, 42, 'text']

my_list.append(c)
print(my_list) # [None, 42, 'text', [1, 2, 3, 4]]
```

- Метод extend()

```py
a = 42
b = 'text'
c = [1, 2, 3, 4]
my_list = [None]

my_list.extend(a)
print(my_list) # TypeError (не работает с одним объектом)

my_list.extend(b)
print(my_list) # [None, 't', 'e', 'x', 't']

my_list.extend(c)
print(my_list) # [None, 't', 'e', 'x', 't', 1, 2, 3, 4]

my_list.extend(my_list)
print(my_list) # [None, 't', 'e', 'x', 't', 1, 2, 3, 4, None, 't', 'e', 'x', 't', 1, 2, 3, 4]
```

- Метод pop()

```py
my_list = [2, 4, 6, 8, 10, 12]

spam = my_list.pop() # удаление последнего элемента и сохранение его в переменную
print(spam, my_list) # 12 [2, 4, 6, 8, 10]

eggs = my_list.pop(1) # удаление элемента под индексом 1 и сохранение его в переменную
print(eggs, my_list) # 4 [2, 6, 8, 10]

err = my_list.pop(10) # IndexError (выход за границы списка)
```

- Метод count()

```py
my_list = [2, 4, 6, 2, 8, 10, 12, 2, 4, 14, 2]

spam = my_list.count(2) 
print(spam) # 4 - колличество встречаемых элементов

eggs = my_list.count(3)
print(eggs) # 0 - элемент отсутствует
```

- Метод index(), index(el, start, stop)

```py
my_list = [2, 4, 6, 2, 8, 10, 12, 2, 4, 14, 2]

spam = my_list.index(4) # поиск индекса числа 4 
print(spam) # 1 - число 4 находится под индексом 1

eggs = my_list.index(4, spam + 1, 90) # поиск числа 4, начиная от spam + 1 (spam = 1 из предыдущего поиска), т.е. от 2-го индекса и до 90-й ячейки. Ошибки не будет
print(eggs) # 8

err = my_list.index(3) # ValueError - элемент отсутствует в списке
```

- Метод insert(indx, el)

```py
my_list = [2, 4, 6, 8, 10, 12]

my_list.insert(2, 555)
print(my_list) # [2, 4, 555, 6, 8, 10, 12]

my_list.insert(-2, 13)
print(my_list) # [2, 4, 555, 6, 8, 13, 10, 12]

my_list.insert(42, 73) # тоже самое, что и append(73), вставка будет в конец списка
print(my_list) # [2, 4, 555, 6, 8, 13, 10, 12, 13]
```

- Метод remove()

```py
my_list = [2, 4, 6, 8, 10, 12, 6]

my_list.remove(6) # удаляет первый встречаемый элемент с лева
print(my_list) # [2, 4, 8, 10, 12, 6]

my_list.remove(3) # ValueError (элемент отсутствует)
print(my_list)
```

- Функция sorted()

```py
my_list = [4, 8, 2, 9, 1, 7, 2]

sort_list = sorted(my_list)
print(my_list, sort_list, sep='\n') 
# [4, 8, 2, 9, 1, 7, 2]
# [1, 2, 2, 4, 7, 8, 9]

rev_list = sorted(my_list, reverse=True)
print(my_list, rev_list, sep='\n')
# [4, 8, 2, 9, 1, 7, 2]
# [9, 8, 7, 4, 2, 2, 1]

lst = sorted([4, 8, 2, 9, 1, 7, 2])
# [1, 2, 2, 4, 7, 8, 9]

lst = sorted([randint(1, 5) for _ in range(15)])
# [1, 1, 2, 2, 2, 3, 3, 3, 3, 3, 3, 4, 4, 4, 5]
```

- Метод sort()

```py
my_list = [4, 8, 2, 9, 1, 7, 2]

my_list.sort()
print(my_list) # [1, 2, 2, 4, 7, 8, 9]

my_list.sort(reverse=True)
print(my_list) # [9, 8, 7, 4, 2, 2, 1]

lst = [4, 8, 2, 9, 1, 7, 2].sort() # TypeError - не сработает
```

- Функция reversed(), list(reversed(arr)), [::-1]

```py
my_list = [4, 8, 2, 9, 1, 7, 2]

res = reversed(my_list)
print(type(res), res) # <class 'list_reverseiterator'> <list_reverseiterator object ....>

rev_list = list(reversed(my_list))
print(rev_list) # [2, 7, 1, 9, 2, 8, 4]

for item in reversed(my_list):
    print(item)
# 2 
# 7
# 1
# 9
# 2
# 8
# 4

my_list = [4, 8, 2, 9, 1, 7, 2]
new_list = my_list[::-1] 
print(my_list, new_list, sep='\n')
# [4, 8, 2, 9, 1, 7, 2]
# [2, 7, 1, 9, 2, 8, 4]
```

- метод reverse()

```py
my_list = [4, 8, 2, 9, 1, 7, 2]

my_list.reverse()
print(my_list) # [2, 7, 1, 9, 2, 8, 4]
```

- list[start:stop:step]

```py
my_list = [2, 4, 6, 2, 8, 10, 12, 14, 16, 18]
print(my_list[2:7:2]) # [6, 8, 12]
print(my_list[:7:2]) # [2, 6, 8, 12]
print(my_list[2::2]) # [6, 8, 12, 16]
print(my_list[2:7:]) # [6, 2, 8, 10, 12]
print(my_list[8:3:-1]) # [16, 14, 12, 10, 8]
print(my_list[3::]) # [2, 8, 10, 12, 14, 16, 18]
print(my_list[:7:]) # [2, 4, 6, 2, 8, 10, 12]
```

- метод copy()

```py
# неправильный пример. создавая второй список путём приравнивая, он тоже будет ссылаться на тот же объект и если в первоначальном списке что-то изменить, то это изменится и во втором
my_list = [2, 4, 6, 2, 8, 10, 12, 14, 16, 18]

new_list = my_list
print(my_list, new_list, sep='\n')
# [2, 4, 6, 2, 8, 10, 12, 14, 16, 18]
# [2, 4, 6, 2, 8, 10, 12, 14, 16, 18]

my_list[2] = 555
print(my_list, new_list, sep='\n')
# [2, 4, 555, 6, 2, 8, 10, 12, 14, 16, 18]
# [2, 4, 555, 6, 2, 8, 10, 12, 14, 16, 18]

##############################
# правильный пример
my_list = [2, 4, 6, 2, 8, 10, 12, 14, 16, 18]

new_list = my_list.copy()
print(my_list, new_list, sep='\n')
# [2, 4, 6, 2, 8, 10, 12, 14, 16, 18]
# [2, 4, 6, 2, 8, 10, 12, 14, 16, 18]

my_list[2] = 555
print(my_list, new_list, sep='\n')
# [2, 4, 555, 6, 2, 8, 10, 12, 14, 16, 18]
# [2, 4, 6, 2, 8, 10, 12, 14, 16, 18]
```

- функция copy.deepcopy()

```py
# не правильный пример. функция copy() - копирует список поверхостно, проходясь по внешнему списку, не затрагивая вложенный список. Поэтому если что-то меняется во внутреннем списке, то это меняется везде.
matrix = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]

new_m = matrix.copy()
print(matrix, new_m, sep='\n')
# [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
# [[1, 2, 3], [4, 5, 6], [7, 8, 9]]

matrix[0][1] = 555
print(matrix, new_m, sep='\n')
# [[1, 555, 3], [4, 5, 6], [7, 8, 9]]
# [[1, 555, 3], [4, 5, 6], [7, 8, 9]]

################################
# правильный пример
import copy

matrix = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]

new_m = copy.deepcopy(matrix)
print(matrix, new_m, sep='\n')
# [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
# [[1, 2, 3], [4, 5, 6], [7, 8, 9]]

matrix[0][1] = 555
print(matrix, new_m, sep='\n')
# [[1, 555, 3], [4, 5, 6], [7, 8, 9]]
# [[1, 2, 3], [4, 5, 6], [7, 8, 9]]
```

- Функция len(x)

```py
my_list = [2, 4, 6, 2, 8, 10, 12, 14, 16, 18]
matrix = [[1, 2, 3, 4], [5, 6, 7, 8], [9, 10, 11, 12]]

print(len(my_list)) # 10
print(len(matrix)) # 3
print(len(matrix[1])) # 4
```

- List Comprehension

 ```py
 list_1 = [i for i in range(1,101)]
 # [1,2,3,...,100]

 list_1 = [NaN for i in range(5)]
 # [NaN,NaN,NaN,NaN,NaN]

 list_1 = [i for i in range(1,101) if i % 2 == 0]
 # [2,4,6,8....100]

 list_1 = [i * 2 for i in range(10) if i % 2 == 0]
 # [0,4,8,12,16]
 ```

- \*

```py
list_1 = [1,2,3]
print(*list_1)
# 1 2 3
```

- max(), min(), sum()

```py
sp = [5, 6, 2, 90, 12, 0, 4, 1, 3]
print(max(sp), min(sp))
# 90 0

lst = ['яблоко', 'апельсин', 'дыня']
print(max(lst, key=len))
# апельсин
print(min(lst, key=len))
# дыня

sp = [5, 3, 2, 1, 9, 0, 7]
print(sum(sp))
# 27
```

- clear()

```py
lst = ['к', 'у', 'р', 'с']
lst.clear()
print(lst)
# []
```

- zip()

```py
list1 = [3, 4, 1, 2, 7]
list2 = [6, 9, 2, 5, 3]
list3 = [i + j for i, j in zip(list1, list2)]
print(list3)
# [9, 13, 3, 7, 10]
```
